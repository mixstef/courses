
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Κανονικές Εκφράσεις (regular expressions) &#8212; Test 1.0 documentation</title>
    <link rel="stylesheet" href="../_static/mytheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Μεταγλωττιστές - Σημειώσεις Εργαστηρίου" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
<div class="pageheader">
     <img src=../_static/banner.gif alt="mistral"/>
     <div>
        <h4>Τμήμα Πληροφορικής - Ιόνιο Πανεπιστήμιο</h4>
        <h2>Μεταγλωττιστές</h2>
        <h4>Εαρινό Εξάμηνο 2018-19</h4>        
        <h5>Μ.Στεφανιδάκης</h5>
      </div>    
</div>


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="regular-expressions">
<h1>Κανονικές Εκφράσεις (regular expressions)<a class="headerlink" href="#regular-expressions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>Εισαγωγή<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Regular expressions (‘κανονικές εκφράσεις’) είναι ένα ισχυρό εργαλείο που προέρχεται από τη θεωρία των τυπικών γλωσσών (formal languages), το οποίο επιτρέπει την ευέλικτη αναζήτηση και ‘ταίριασμα’ (matching) κειμένου σύμφωνα με μια προδιαγραφή (matching pattern).</p>
<p>Μπορούμε να φανταστούμε την προδιαγραφή αυτή ως μία μίνι-γλώσσα, η οποία χρησιμοποιείται για τη συγκρότηση μιας μηχανής ταιριάσματος (matching engine). Η μηχανή επεξεργάζεται το κείμενο εισόδου σύμφωνα με τις οδηγίες της προδιαγραφής και επιστρέφει</p>
<ul class="simple">
<li><p>αν υπάρχει ταίριασμα (αληθές/ψευδές)</p></li>
<li><p>σε ποια σημεία (θέση στο κείμενο)</p></li>
<li><p>ποιο κομμάτι του κειμένου ταίριαξε με την προδιαγραφή</p></li>
<li><p>επίσης, η μηχανή μπορεί να αντικαταστήσει τα κομμάτια που ταίριαξαν, με άλλο κείμενο, αν αυτό ζητηθεί</p></li>
</ul>
<p>Μια προδιαγραφή regular expression μπορεί να αποτελείται από άλλες μικρότερες ή από ένα σύνολο εναλλακτικών υπο-προδιαγραφών. Οι προδιαγραφές απαρτίζονται από χαρακτήρες: είτε απλοί χαρακτήρες όπως το <code class="docutils literal notranslate"><span class="pre">a</span></code> που ταιριάζει μόνο το γράμμα a, είτε ειδικοί χαρακτήρες ελέγχου, όπως η τελεία <code class="docutils literal notranslate"><span class="pre">.</span></code> που ταιριάζει (σχεδόν) οποιοδήποτε γράμμα.</p>
<p>Η προδιαγραφή περνά από μια διαδικασία ‘μεταγλώττισης’ (compilation) και κατασκευάζεται ένα σύνολο οδηγιών για τη μηχανή ταιριάσματος. Η βασική μηχανή είναι γραμμένη συνήθως σε C και πολύ γρήγορη σε εκτέλεση.</p>
<p>Υπάρχουν δύο τύποι μηχανών:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://en.wikipedia.org/wiki/Deterministic_finite_automaton">DFA</a>, όπου η απόδοση εξαρτάται μόνο από το μέγεθος του κειμένου εισόδου (κι όχι από την πολυπλοκότητα της προδιαγραφής της regular expression). Πολύ γρήγορη μηχανή που για κάθε χαρακτήρα εισόδου παρακολουθεί ταυτόχρονα όλες τις πιθανές θέσεις ταιριάσματος (χρησιμοποιώντας διαφορετική κατάσταση για κάθε συνδυασμό ταιριάσματος). Δεν διαθέτει όμως πρόσθετα χαρακτηριστικά (θα δούμε αργότερα ποια), τα οποία είναι χρήσιμα στον προγραμματισμό.</p></li>
<li><p><a class="reference external" href="http://en.wikipedia.org/wiki/Nondeterministic_finite_state_machine">NFA</a>, αργότερη μηχανή ταιριάσματος, δοκιμάζει διαδοχικά τις εναλλακτικές προδιαγραφές της regular expression αρχίζοντας από την αρχή του κειμένου εισόδου μέχρι να βρει ένα επιτυχές ταίριασμα. Παρέχει ενδιαφέροντα πρόσθετα εργαλεία, αλλά απαιτείται προσοχή στον τρόπο κατασκευής της προδιαγραφής: η απόδοση εξαρτάται από το πώς είναι γραμμένη. Σχεδόν όλες οι γλώσσες προγραμματισμού υλοποιούν NFA μηχανές για regular expressions.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Η χρήση των regular expressions είναι δύσκολη για τους μη πεπειραμένους και πρέπει να γίνεται με προσοχή. Εξετάστε αν μπορείτε να λύσετε το πρόβλημά σας με πιο απλόν τρόπο πριν καταφύγετε στη λύση των regular expressions (RE).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Some</span> <span class="n">people</span><span class="p">,</span> <span class="n">when</span> <span class="n">confronted</span> <span class="k">with</span> <span class="n">a</span> <span class="n">problem</span><span class="p">,</span> <span class="n">think</span> <span class="s1">&#39;I know, I&#39;</span><span class="n">ll</span> <span class="n">use</span>
<span class="n">regular</span> <span class="n">expressions</span><span class="o">.</span><span class="s1">&#39; Now they have two problems.</span>
         <span class="o">--</span> <span class="n">Jamie</span> <span class="n">Zawinski</span><span class="p">,</span> <span class="n">alt</span><span class="o">.</span><span class="n">religion</span><span class="o">.</span><span class="n">emacs</span> <span class="p">(</span><span class="mi">08</span><span class="o">/</span><span class="mi">12</span><span class="o">/</span><span class="mi">1997</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Πολλά από τα παραδείγματα που ακολουθούν βασίζοντια σε υλικό από το βιβλίο “Mastering Regular Expressions”, 2nd ed., Jeffrey E.F. Friedl, O’Reilly Media, July 2002.</p>
</div>
</div>
<div class="section" id="python-regular-expressions">
<h2>Python και regular expressions<a class="headerlink" href="#python-regular-expressions" title="Permalink to this headline">¶</a></h2>
<p>Στην Python η υλοποίηση των regular expressions είναι αντικειμενοστρεφής.</p>
<ul>
<li><p>Η υποστήριξη των regular expressions υπάρχει ενσωματωμένη στη γλώσσα, στο module <code class="docutils literal notranslate"><span class="pre">re</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>
</div>
</li>
<li><p>Ξεκινάμε με την προδιαγραφή εκφρασμένη σε ένα string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">restr</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;([-+]?[0-9]+(\.[0-9]*)?)\s*([CF])&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Το string <code class="docutils literal notranslate"><span class="pre">restr</span></code> του παραδείγματος περιγράφει μια regular expression που ταιριάζει βαθμούς θερμοκρασίας, με προαιρετικό πρόσημο, ακέραιο και προαιρετικό δεκαδικό μέρος, πιθανά κενά και μετά τα γράμματα C ή F. Μην ανησυχείτε αν δεν την καταλαβαίνετε ακόμα!</p>
<p>Παρατηρήστε πώς γράφεται το regular expression: η σταθερά string δίνεται ως <code class="docutils literal notranslate"><span class="pre">r'</span> <span class="pre">....</span> <span class="pre">'</span></code>, κάτι που συμβολίζει ένα <strong>raw string</strong>. Δεν σχετίζεται ειδικά με τα regular expressions, απλά βολεύει στην περίπτωσή μας:</p>
<blockquote>
<div><ul class="simple">
<li><p>Η Python σε σταθερές string αντικαθιστά όπως και η C τα <code class="docutils literal notranslate"><span class="pre">\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\t</span></code> κλπ με τον αντίστοιχο χαρακτήρα newline, tab, κ.ο.κ.</p></li>
<li><p>Σε raw σταθερά string όμως, η αντικατάσταση αυτή δε γίνεται: το <code class="docutils literal notranslate"><span class="pre">r'\n'</span></code> είναι πάντα 2 χαρακτήρες, το <code class="docutils literal notranslate"><span class="pre">\</span></code> και το <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p></li>
<li><p>Οι regular expressions χρησιμοποιούν πολύ τον μηχανισμό \χαρακτήρα, έτσι πρέπει να πούμε στην Python να μην προχωρήσει σε μετατροπές.</p></li>
</ul>
</div></blockquote>
</div>
</li>
<li><p>Στη συνέχεια κατασκευάζουμε το αντικείμενο regular expression, το οποίο μπορούμε να θεωρήσουμε ως τη μηχανή ταιριάσματος. Είναι το αντικείμενο που μας παρέχει τις μεθόδους αναζήτησης και αντικατάστασης σύμφωνα με την προδιαγραφή του RE.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">restr</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Το  <code class="docutils literal notranslate"><span class="pre">rexp</span></code> του παραδείγματος συμβολίζει το αντικείμενο-RE και συνήθως κατασκευάζεται άπαξ, στην αρχή του προγράμματος. Στη συνέχεια, μπορούμε να το χρησιμοποιήσουμε όσες φορές θέλουμε για να ταιριάξουμε κείμενο.</p>
</div>
</li>
</ul>
<p>Στις επόμενες παραγράφους αναφέρονται <strong>μερικά μόνο</strong> από τα εργαλεία της Python για regular expressions. Για την πλήρη περιγραφή του module re, δείτε στο <a class="reference external" href="https://docs.python.org/3/library/re.html">https://docs.python.org/3/library/re.html</a>.</p>
</div>
<div class="section" id="id2">
<h2>Συνήθεις προδιαγραφές για regular expressions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>που αναγνωρίζονται από την Python είναι:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">abc</span></code></p></td>
<td><p>ταιριάζει ακριβώς το γράμμα <code class="docutils literal notranslate"><span class="pre">a</span></code>, ακολουθούμενο από το <code class="docutils literal notranslate"><span class="pre">b</span></code> και μετά το <code class="docutils literal notranslate"><span class="pre">c</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">a|b</span></code></p></td>
<td><p>είτε το <code class="docutils literal notranslate"><span class="pre">a</span></code>, είτε το <code class="docutils literal notranslate"><span class="pre">b</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[abc]</span></code></p></td>
<td><p>character class: ένα από τα <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code> ή <code class="docutils literal notranslate"><span class="pre">c</span></code> (ΠΡΟΣΟΧΗ: ΕΝΑΣ ΧΑΡΑΚΤΗΡΑΣ ΜΟΝΟ)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[a-zA-Z]</span></code></p></td>
<td><p>όπως προηγουμένως, αλλά σε ένα πεδίο τιμών, από <code class="docutils literal notranslate"><span class="pre">a</span></code> έως και  <code class="docutils literal notranslate"><span class="pre">z</span></code> και από <code class="docutils literal notranslate"><span class="pre">A</span></code> έως και <code class="docutils literal notranslate"><span class="pre">Z</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[^ab]</span></code></p></td>
<td><p>ένας οποιοσδήποτε χαρακτήρας, <strong>εκτός από</strong> <code class="docutils literal notranslate"><span class="pre">a</span></code> ή <code class="docutils literal notranslate"><span class="pre">b</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">$</span></code></p></td>
<td><p>ταιριάζει <strong>στο τέλος</strong> του string (ρυθμίζεται να ταιριάζει και στο τέλος κάθε γραμμής του string)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></td>
<td><p>ταιριάζει <strong>στην αρχή</strong> του string (ρυθμίζεται να ταιριάζει και στην αρχή κάθε γραμμής του string)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.</span></code></p></td>
<td><p>ένας <strong>οποιοσδήποτε</strong> χαρακτήρας εκτός από newline (ρυθμίζεται να ταιριάζει και το newline)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>0 ή περισσότερες φορές ο χαρακτήρας που προηγείται</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>1 ή περισσότερες φορές ο χαρακτήρας που προηγείται</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">?</span></code></p></td>
<td><p>0 ή 1 φορά ο χαρακτήρας που προηγείται</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{n}</span></code> <code class="docutils literal notranslate"><span class="pre">{m,n}</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">n</span></code> φορές / από <code class="docutils literal notranslate"><span class="pre">n</span></code> έως <code class="docutils literal notranslate"><span class="pre">m</span></code> φορές ο χαρακτήρας που προηγείται</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\b</span></code></p></td>
<td><p>ταιριάζει στην αρχή και στο τέλος μιας λέξης</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\w</span></code> <code class="docutils literal notranslate"><span class="pre">\W</span></code></p></td>
<td><p>οποιοσδήποτε αλφαριθμητικός / μη αλφαριθμητικός χαρακτήρας</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\s</span></code> <code class="docutils literal notranslate"><span class="pre">\S</span></code></p></td>
<td><p>οποιοσδήποτε whitespace / μη whitespace χαρακτήρας</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*?</span></code> <code class="docutils literal notranslate"><span class="pre">+?</span></code> <code class="docutils literal notranslate"><span class="pre">??</span></code></p></td>
<td><p>μη άπληστες (non-greedy) μορφές των <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code> και <code class="docutils literal notranslate"><span class="pre">?</span></code> (μόνο σε NFA)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">()</span></code></p></td>
<td><p>group ομαδοποίησης τμημάτων μιας RE, συγκρατούν και το κείμενο που ταιριάζει στο τμήμα (NFA μόνο)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\1</span></code> <code class="docutils literal notranslate"><span class="pre">\2</span></code> κλπ</p></td>
<td><p>μέσα στη RE αντικαθίστανται από το τι έχει ταιριάξει ως τώρα στο αντίστοιχο group (NFA μόνο)</p></td>
</tr>
</tbody>
</table>
<p>Με βάση τα πιο πάνω μπορούμε να συντάξουμε σύνθετες προδιαγραφές, όπως εκείνη του παραδείγματος με τη θερμοκρασία.</p>
</div>
<div class="section" id="regular-expression">
<h2>Μέθοδοι του αντικειμένου regular expression<a class="headerlink" href="#regular-expression" title="Permalink to this headline">¶</a></h2>
<div class="section" id="search">
<h3>Η μέθοδος search()<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h3>
<p>Η κύρια μέθοδος είναι η <code class="docutils literal notranslate"><span class="pre">search()</span></code> που παίρνει ως όρισμα ένα string και αναζητά ταιριάσματα <strong>οπουδήποτε</strong> μέσα στο string. Με το πρώτο ταίριασμα που θα βρεθεί, επιστρέφει ένα <strong>match object</strong> με τις πληροφορίες του ταιριάσματος. Αν δεν βρεθεί κανένα ταίριασμα, επιστρέφεται το κενό αντικείμενο (None).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">restr</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;([-+]?[0-9]+(\.[0-9]*)?)\s*([CF])&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">restr</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;abcd12.23&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">None</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;abcd12.23 F&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;_sre.SRE_Match object; span=(4, 11), match=&#39;12.23 F&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;12.23 F&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;12.23&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;.23&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&#39;F&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="go">(&#39;12.23&#39;, &#39;.23&#39;, &#39;F&#39;)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Τι είναι τα <strong>groups</strong>; Στην προδιαγραφή της RE, οι παρενθέσεις παίζουν ειδικό ρόλο, ομαδοποιώντας υποσύνολα της RE. Επιπλέον, η μηχανή θυμάται τι ταίριαξε σε κάθε group.</p>
<blockquote>
<div><ul>
<li><p><strong>Το group(0) συμβολίζει όλο το κείμενο που ταίριαξε</strong>.</p></li>
<li><p>Για κάθε παρένθεση που ανοίγει -μετρώντας από τα αριστερά- ορίζονται και τα άλλα groups.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>([-+]?[0-9]+(\.[0-9]*)?)\s*([CF])
^           ^              ^
1           2              3
|----------------------|
            |--------|     |----|
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>Αν ένα σετ παρενθέσεων έχει μπει μόνο για την εξυπηρέτηση του <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code> κλπ και δεν θέλουμε τη συγκράτηση της τιμής του group, μπορούμε να χρησιμοποιήσουμε το <code class="docutils literal notranslate"><span class="pre">(?:...)</span></code>. Δείτε εδώ τη διαφορά από το προηγούμενο. Πόσα groups υπάρχουν τώρα;</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">restr</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;([-+]?[0-9]+(?:\.[0-9]*)?)\s*([CF])&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">restr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;abcd12.23 F&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
<span class="go">(&#39;12.23&#39;, &#39;F&#39;)</span>
</pre></div>
</div>
</div>
<ul>
<li><p>Παράδειγμα: βρείτε τη γάτα στην αρχή ή στο τέλος ενός string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;I see a cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;_sre.SRE_Match object; span=(0, 3), match=&#39;cat&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;cat&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;cat$&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;in category&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;black cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">m</span>
<span class="go">&lt;_sre.SRE_Match object; span=(6, 9), match=&#39;cat&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">m</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;found!&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">found!</span>
</pre></div>
</div>
<p>Για να ταιριάξουμε ένα άδειο string, θα μπορούσαμε (θεωρητικά -δεν χρειάζεται στην πράξη!) να χρησιμοποιήσουμε το <code class="docutils literal notranslate"><span class="pre">'^$'</span></code>.</p>
</li>
<li><p>Παράδειγμα: κλάσεις χαρακτήρων με το <code class="docutils literal notranslate"><span class="pre">[]</span></code>. Θυμηθείτε ότι μέσα στην κλάση, οι χαρακτήρες ελέγχου χάνουν τον ειδικό τους χαρακτήρα και το <code class="docutils literal notranslate"><span class="pre">^</span></code> σημαίνει κάτι διαφορετικό!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;gr[ae]y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;a gray cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">m</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;found!&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">found!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;a grey cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">m</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;found!&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">found!</span>
</pre></div>
</div>
</li>
<li><p>Παράδειγμα: Βρείτε a που δεν ακολουθείται από b</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;a[^b]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;ab&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;acb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;_sre.SRE_Match object; span=(0, 2), match=&#39;ac&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">ac</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;ba&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">None</span>
</pre></div>
</div>
<p>Στο τελευταίο παράδειγμα βλέπουμε ότι ενώ το a δεν πρέπει να ακολουθείται από b, <strong>πρέπει όμως να ακολουθείται από κάτι άλλο</strong>!</p>
</li>
<li><p>Παράδειγμα: Βρείτε το gray ή grey με εναλλαγή (alternation): 2 σωστοί και ένας λάθος τρόπος</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;gray|grey&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;a gray cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">m</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;found!&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">found!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;gr(a|e)y&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;a gray cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">m</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;found!&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">found!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;gra|ey&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;a gray cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;_sre.SRE_Match object; span=(2, 5), match=&#39;gra&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">gra</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;a grey cat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;_sre.SRE_Match object; span=(4, 6), match=&#39;ey&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">ey</span>
</pre></div>
</div>
<p>Στο τελευταίο παράδειγμα έχουμε ταίριασμα, δεν είναι όμως αυτό που θέλουμε! <strong>Η χρήση των παρενθέσεων είναι αναγκαία για το σωστό ταίριασμα</strong>!</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Προσοχή!</strong> Η εναλλαγή (<code class="docutils literal notranslate"><span class="pre">|</span></code>) στις μηχανές NFA, όταν ταιριάζουν δύο ή περισσότερες επιλογές, επιστρέφει την <strong>πρώτη, από αριστερά προς τα δεξιά</strong> κι όχι τη μεγαλύτερη σε μήκος!!</p>
</div>
</li>
<li><p>Παράδειγμα: Γιατί πρέπει να προσέχουμε όταν γειτονεύουν <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code> και <code class="docutils literal notranslate"><span class="pre">.</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">restr</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;^.*([0-9]+)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">restr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;Copyright 2003&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;Copyright 2003&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;3&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Γιατί δεν μπήκε όλο το <code class="docutils literal notranslate"><span class="pre">2003</span></code> μέσα στο group(1); Το <code class="docutils literal notranslate"><span class="pre">*</span></code> είναι άπληστο και καταναλώνει όλο το string. Στη συνέχεια αποδεσμεύει  το <code class="docutils literal notranslate"><span class="pre">3</span></code> για να επιτρέψει και στο <code class="docutils literal notranslate"><span class="pre">+</span></code> να πετύχει ταίριασμα. Η διαδικασία σταματά εδώ και ποτέ δεν δίνεται η ευκαιρία στο <code class="docutils literal notranslate"><span class="pre">+</span></code> να ταιριάξει όλο το <code class="docutils literal notranslate"><span class="pre">2003</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Η παράθεση πολλαπλών <code class="docutils literal notranslate"><span class="pre">*</span></code> και <code class="docutils literal notranslate"><span class="pre">+</span></code> (σε συνδυασμό με το <code class="docutils literal notranslate"><span class="pre">.</span></code>) οδηγεί συχνά στην αποτυχία ταιριάσματος ή ακόμα και στην αποτυχία της ίδιας της μηχανής NFA. Έτσι, <strong>πρέπει να γίνεται με προσοχή</strong>.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="match">
<h3>Η μέθοδος match()<a class="headerlink" href="#match" title="Permalink to this headline">¶</a></h3>
<p>Η μέθοδος <code class="docutils literal notranslate"><span class="pre">match()</span></code> λειτουργεί ακριβώς όπως η <code class="docutils literal notranslate"><span class="pre">search()</span></code>, με τη διαφορά ότι προσπαθεί να βρεί ταίριασμα <strong>μόνο από την αρχή</strong> του string (κι όχι οπουδήποτε μέσα στο string όπως η search).</p>
</div>
<div class="section" id="finditer">
<h3>Η μέθοδος finditer()<a class="headerlink" href="#finditer" title="Permalink to this headline">¶</a></h3>
<p>Δέχεται ως όρισμα ένα string και επιστρέφει ένα αντικείμενο iterator, το οποίο δίνει διαδοχικά όλα τα match objects για όλα τα σημεία ταιριάσματος μέσα στο string.</p>
<ul>
<li><p>Παράδειγμα: χρήση της τελείας <code class="docutils literal notranslate"><span class="pre">.</span></code> για να ταιριάξουμε οτιδήποτε (εκτός από newline! Για να ταιριάξετε και το newline στο re.compile() προσθέστε το επιπλέον όρισμα <code class="docutils literal notranslate"><span class="pre">re.DOTALL</span></code>)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;a.c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mi</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="s1">&#39;ab abc acc axc afc acb a</span><span class="se">\n</span><span class="s1">c avc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">mi</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">abc</span>
<span class="go">acc</span>
<span class="go">axc</span>
<span class="go">afc</span>
<span class="go">avc</span>
</pre></div>
</div>
</li>
<li><p>Παράδειγμα: color ή colour?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;colou?r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mi</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="s1">&#39;some write colour instead of color&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">mi</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">colour</span>
<span class="go">color</span>
</pre></div>
</div>
</li>
<li><p>Παράδειγμα: Εύρεση λέξεων που αντιπροσωπεύουν “σωστή” ώρα σε 24ωρο format</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b([01]?[0-9]|2[0-3]):[0-5][0-9]\b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mi</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="s1">&#39;4:24 3:56  25:02 12:45 9:62&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">mi</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">4:24</span>
<span class="go">3:56</span>
<span class="go">12:45</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="findall">
<h3>Η μέθοδος findall()<a class="headerlink" href="#findall" title="Permalink to this headline">¶</a></h3>
<p>Επιστρέφει όλα τα ταιριάσματα, αλλά <strong>ΠΡΟΣΟΧΗ!!</strong> Η επιστρεφόμενη τιμή δεν μοιάζει με εκείνες των προηγούμενων μεθόδων:</p>
<ul>
<li><p>Αν <strong>δεν υπάρχουν</strong> groups στην RE, επιστρέφει απλά μια λίστα με τα strings που ταίριαξαν.</p></li>
<li><p>Αν <strong>υπάρχουν</strong> groups, επιστρέφει μόνο αυτά κι όχι το πλήρες ταίριασμα (δηλ. δεν σας δίνει το group(0)).</p>
<ul class="simple">
<li><p>Οταν τα groups είναι περισσότερα από ένα στην RE, κάθε στοιχείο της επιστρεφόμενης λίστας είναι ένα tuple με όλες τις τιμές των groups για το συγκεκριμένο ταίριασμα.</p></li>
</ul>
</li>
<li><p>Παράδειγμα: Ταίριασμα ονομάτων μεταβλητών:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b[a-zA-z_][a-zA-Z0-9_]*\b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;var1 1var _var&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[&#39;var1&#39;, &#39;_var&#39;]</span>
</pre></div>
</div>
</li>
<li><p>Παράδειγμα: Ταίριασμα κειμένου μέσα σε “..”</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&quot;[^&quot;]*&quot;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;&quot;RE&quot; is a &quot;better&quot; name for &quot;regular expressions&quot;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[&#39;&quot;RE&quot;&#39;, &#39;&quot;better&quot;&#39;, &#39;&quot;regular expressions&quot;&#39;]</span>
</pre></div>
</div>
</li>
<li><p>Παράδειγμα: Λέξεις 5 κεφαλαίων από Α ώς Ζ (αγγλικά)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b[A-Z]{5}\b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;ABCDE aEFGHI AB ABCDEFGHIJ NNNNN&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[&#39;ABCDE&#39;, &#39;NNNNN&#39;]</span>
</pre></div>
</div>
</li>
<li><p>Παράδειγμα: Βρείτε τις ετικέτες σε κώδικα HTML. Ένας <strong>λάθος</strong> (λόγω απληστίας του <code class="docutils literal notranslate"><span class="pre">+</span></code> που προσπαθεί να ταιριάξει όσο το δυνατόν περισσότερο κείμενο) και 2 σωστοί τρόποι (με κλάση χαρακτήρων και τη μη άπληστη μορφή του <code class="docutils literal notranslate"><span class="pre">+?</span></code>)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;.+&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;this &lt;b&gt;is&lt;/b&gt; a &lt;em&gt;HTML&lt;/em&gt; text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[&#39;&lt;b&gt;is&lt;/b&gt; a &lt;em&gt;HTML&lt;/em&gt;&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;[^&gt;]+&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;this &lt;b&gt;is&lt;/b&gt; a &lt;em&gt;HTML&lt;/em&gt; text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[&#39;&lt;b&gt;&#39;, &#39;&lt;/b&gt;&#39;, &#39;&lt;em&gt;&#39;, &#39;&lt;/em&gt;&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;.+?&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;this &lt;b&gt;is&lt;/b&gt; a &lt;em&gt;HTML&lt;/em&gt; text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[&#39;&lt;b&gt;&#39;, &#39;&lt;/b&gt;&#39;, &#39;&lt;em&gt;&#39;, &#39;&lt;/em&gt;&#39;]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="sub">
<h3>Η μέθοδος sub()<a class="headerlink" href="#sub" title="Permalink to this headline">¶</a></h3>
<p>Δέχεται ως πρώτο όρισμα ένα string αντικατάστασης και ως δεύτερο ένα string αναζήτησης. Επιστρέφει ένα νέο string, όπου όλα τα σημεία του string αναζήτησης που ταιριάζουν με την RE έχουν αντικατασταθεί από το string αντικατάστασης.</p>
<ul>
<li><p>Παράδειγμα: απαλοιφή διπλών ίδιων συνεχόμενων λέξεων από ένα string (προσέξτε ότι το backreference \1 απαιτεί το 1ο όρισμα της sub να είναι raw string!)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rexp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b([a-z]+)\s+\1\b&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">rexp</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1&#39;</span><span class="p">,</span><span class="s1">&#39;This this is a a known fact.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">&#39;This is a known fact.&#39;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Περιεχόμενα</a></h3>
  <ul>
<li><a class="reference internal" href="#">Κανονικές Εκφράσεις (regular expressions)</a><ul>
<li><a class="reference internal" href="#id1">Εισαγωγή</a></li>
<li><a class="reference internal" href="#python-regular-expressions">Python και regular expressions</a></li>
<li><a class="reference internal" href="#id2">Συνήθεις προδιαγραφές για regular expressions</a></li>
<li><a class="reference internal" href="#regular-expression">Μέθοδοι του αντικειμένου regular expression</a><ul>
<li><a class="reference internal" href="#search">Η μέθοδος search()</a></li>
<li><a class="reference internal" href="#match">Η μέθοδος match()</a></li>
<li><a class="reference internal" href="#finditer">Η μέθοδος finditer()</a></li>
<li><a class="reference internal" href="#findall">Η μέθοδος findall()</a></li>
<li><a class="reference internal" href="#sub">Η μέθοδος sub()</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
    </div>

    

    
  </body>
</html>