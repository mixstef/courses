<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ενότητα 1-2 &mdash; Internet Programming Lectures v1.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Internet Programming Lectures v1.0 documentation" href="../index.html" />
    <link rel="next" title="Ενότητα 2-1" href="../unit2/module1.html" />
    <link rel="prev" title="Ενότητα 1-1" href="module1.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../unit2/module1.html" title="Ενότητα 2-1"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="module1.html" title="Ενότητα 1-1"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Internet Programming Lectures v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>Ενότητα 1-2<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Στη συνέχεια παρουσιάζονται ορισμένα ενδιαφέροντα στοιχεία της Python. Αυτό που ακολουθεί δεν είναι tutorial, αν θέλετε κάτι τέτοιο μπορείτε να βρείτε εξαιρετικά κείμενα on-line.</p>
<div class="section" id="id2">
<h2>Μεταβλητές και Αναφορές<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Δεν χρειάζεται να ξέρετε όσα λέγονται σε αυτήν την παράγραφο για να προγραμματίσετε σε Python. Η γλώσσα τα υλοποιεί για εσάς. Είναι όμως χρήσιμα για όσους προέρχονται από τον κόσμο της C/C++!</p>
</div>
<p>Στην Python οι μεταβλητές δεν δηλώνονται και μπορούν να περιέχουν διάφορους τύπους αντικειμένων κατά τη διάρκεια ζωής τους. Το πιο κάτω είναι απολύτως νόμιμο:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">i</span> <span class="o">=</span> <span class="mi">23</span>
<span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">i</span>
<span class="n">i</span> <span class="o">=</span> <span class="s">&quot;hello&quot;</span>
</pre></div>
</div>
<p>Αυτό που συμβαίνει κατά την εκτέλεση των παραπάνω είναι:</p>
<ul class="simple">
<li>Δημιουργείται ένα αντικείμενο τύπου int με τιμή <tt class="docutils literal"><span class="pre">23</span></tt></li>
<li>Το όνομα <tt class="docutils literal"><span class="pre">i</span></tt> συνδέεται με το αντικείμενο αυτό</li>
<li>Δημιουργείται ένα <strong>νέο</strong> αντικείμενο τύπου int με τιμή <tt class="docutils literal"><span class="pre">23+1</span></tt></li>
<li>Το όνομα <tt class="docutils literal"><span class="pre">i</span></tt> συνδέεται με το νέο αυτό αντικείμενο</li>
<li>Το όνομα <tt class="docutils literal"><span class="pre">j</span></tt> συνδέεται με το αντικείμενο, στο οποίο αναφέρεται το <tt class="docutils literal"><span class="pre">i</span></tt> (με τιμή 24)</li>
<li>Δημιουργείται ένα αντικείμενο τύπου str με τιμή <tt class="docutils literal"><span class="pre">&quot;hello&quot;</span></tt></li>
<li>Το όνομα <tt class="docutils literal"><span class="pre">i</span></tt> συνδέεται με το νέο αυτό αντικείμενο</li>
</ul>
<p>Κάποια στιγμή (<strong>μη ντετερμινιστική για εμάς!</strong>) η Python θα ανακυκλώσει αυτόματα όσα αντικείμενα δεν συνδέονται με μεταβλητές (garbage collection).</p>
</div>
<div class="section" id="strings">
<h2>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h2>
<p>Η Python προσφέρει τους κλασσικούς τύπους δεδομένων (int, string κλπ). Τα αντικείμενα των τύπων αυτών είναι <strong>immutable</strong>, δηλαδή <strong>δεν αλλάζουν τιμή</strong> (απλά, όπως φάνηκε στην προηγούμενη πράγραφο, δημιουργούνται νέα αντικείμενα).</p>
<p>Τα strings αποτελούν έναν πολύ εύχρηστο τύπο δεδομένων και μερικά χαρακτηριστικά τους δίνονται στη συνέχεια:</p>
<ul class="simple">
<li>Σταθερές string με μονά ή διπλά εισαγωγικά</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;abcd&quot;</span>
<span class="n">s2</span> <span class="o">=</span> <span class="s">&#39;abcd&#39;</span>  <span class="c"># ισοδύναμο με προηγούμενο</span>
</pre></div>
</div>
<ul class="simple">
<li>Τα strings ανήκουν στην κατηγορία τύπων sequence (διατεταγμένης ακολουθίας), άρα μπορούμε να πάρουμε επιμέρους τμήματα</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;abcdefg&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;a&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;g&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">&#39;bcd&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;abcdef&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="go">&#39;cdefg&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li>Για να καταλάβετε καλύτερα το πώς λαμβάνονται τα τμήματα μιας sequence (slicing), μπορείτε να σκεφτείτε ότι ο δείκτης i βρίσκεται ανάμεσα στα (i-1) και i στοιχεία (κι όχι <em>πάνω</em> στο στοιχείο i):</li>
</ul>
<div class="highlight-python"><pre>[a|b|c|d|e|f|g]
^ ^ ^ ^ ^ ^ ^ ^
0 1 2 3 4 5 6 7

το s[1:4] είναι ίσο με "bcd"</pre>
</div>
<ul class="simple">
<li>Θυμηθείτε όμως ότι <strong>δεν μπορούμε να αλλάξουμε περιεχόμενα σε ένα string</strong> (είναι immutable):</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;abcdefg&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n-Identifier">&lt;module&gt;</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">&#39;str&#39; object does not support item assignment</span>
</pre></div>
</div>
<ul class="simple">
<li>Μπορούμε όμως πάντοτε να δημιουργήσουμε ένα νέο string. Για παράδειγμα, για να επιτύχουμε το προηγούμενο:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;abcdefg&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="s">&#39;x&#39;</span><span class="o">+</span><span class="n">s</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s</span>
<span class="go">abcxefg</span>
</pre></div>
</div>
<p>Τα αντικείμενα τύπου string διαθέτουν μια μεγάλη σειρά από χρήσιμες μεθόδους (<a class="reference external" href="http://docs.python.org/library/stdtypes.html#string-methods">http://docs.python.org/library/stdtypes.html#string-methods</a>)</p>
</div>
<div class="section" id="id3">
<h2>Σύνθετα Αντικείμενα<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Το δυνατό σημείο της Python είναι τα σύνθετα αντικείμενα που παρέχει, τα οποία χρησιμοποιούμε για όλες τις δομές που θέλουμε να υλοποιήσουμε. Τα δύο βασικότερα είναι οι <strong>λίστες (lists)</strong> και τα <strong>λεξικά (dictionaries)</strong>.  Και οι δύο αυτοί τύποι αντικειμένων είναι <strong>mutable</strong>, τα αντικείμενά τους δηλαδή μπορούν να αλλάξουν περιεχόμενα.</p>
</div>
<div class="section" id="lists">
<h2>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h2>
<p>Οι λίστες ανήκουν στην κατηγορία sequence και υλοποιούν μια διατεταγμένη συλλογή αντικειμένων. Τα αντικείμενα που περιέχονται στη λίστα μπορούν να είναι οποιουδήποτε τύπου (ακόμα και άλλες λίστες). Εφόσον μια λίστα είναι sequence, μπορούμε να πάρουμε μέρος της, όπως σε ένα string:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span><span class="s">&#39;ef&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">li</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">li</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;ef&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">li</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">[1, 2, &#39;abcd&#39;]</span>
</pre></div>
</div>
<p>Μπορούμε ακόμα να προσπελάσουμε ένα προς ένα τα στοιχεία της λίστας με την επαναληπτική δομή <tt class="docutils literal"><span class="pre">for</span> <span class="pre">&lt;item&gt;</span> <span class="pre">in</span> <span class="pre">&lt;sequence&gt;</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">itm</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">itm</span>
<span class="gp">...</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">abcd</span>
<span class="go">ef</span>
</pre></div>
</div>
<p>Σκεφτείτε πώς συνδέονται μεταβλητές και αντικείμενα στην Python για να καταλάβετε το επόμενο:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span><span class="s">&#39;ef&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lm</span> <span class="o">=</span> <span class="n">li</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">33</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lm</span>
<span class="go">[33, 2, &#39;abcd&#39;, &#39;ef&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">li</span>
<span class="go">[33, 2, &#39;abcd&#39;, &#39;ef&#39;]</span>
</pre></div>
</div>
<p>Μπορούμε να προσθέσουμε δυναμικά νέα στοιχεία σε μια λίστα:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s">&#39;ab&#39;</span><span class="p">,</span><span class="s">&#39;cd&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">li</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">22</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">li</span>
<span class="go">[1, 2, 3, &#39;ab&#39;, &#39;cd&#39;, 11, 22]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">33</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">li</span>
<span class="go">[1, 2, 3, &#39;ab&#39;, &#39;cd&#39;, 11, 22, 33]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Προσέξτε το όρισμα στη μέθοδο append στο προηγούμενο παράδειγμα. <strong>Δεν είναι λίστα</strong>. Αν ήταν, το αποτέλεσμα θα ήταν διαφορετικό!</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[1, 2, 3, [5, 6]]</span>
</pre></div>
</div>
<p>Αν θέλαμε να προσθέσουμε το 5 και το 6 στη λίστα, θα έπρεπε:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[1, 2, 3, 5, 6]</span>
</pre></div>
</div>
<p>Ή εναλλακτικά (η μέθοδος extend() ισοδυναμεί με το + σε λίστες):</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span>
<span class="go">[1, 2, 3, 5, 6]</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Οι λίστες είναι δομές <strong>ειδικά βελτιστοποιημένες για ταξινόμηση</strong> (sorting). Εάν θέλουμε να ταξινομήσουμε <strong>πολύ γρήγορα</strong> μια σειρά στοιχείων, <strong>η χρήση λίστας είναι MUST!!!</strong></p>
</div>
</div>
<div class="section" id="dictionaries">
<h2>Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">¶</a></h2>
<p>Τα λεξικά (dictionaries) είναι τύπου mapping: ζεύγη αντιστοιχιών (κλειδιού-τιμής).</p>
<ul class="simple">
<li>Κάθε κλειδί πρέπει να είναι μοναδικό, αλλά όχι απαραίτητα του ίδιου τύπου με τα άλλα.</li>
<li>Δεν μπορείτε να χρησιμοποιήσετε λίστες ή λεξικά ως κλειδιά.</li>
<li>Η τιμή που αντιστοιχεί σε ένα κλειδί μπορεί να είναι οποιουδήποτε τύπου.</li>
</ul>
<p>Οι πιο κοινές λειτουργίες σε λεξικά δίνονται στη συνέχεια.</p>
<ul class="simple">
<li>Δημιουργήστε ένα κενό ή ένα αρχικοποιημένο με μερικά στοιχεία λεξικό:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;mike&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span> <span class="s">&#39;nick&#39;</span><span class="p">:</span> <span class="mi">43</span> <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Προσθέστε ένα νέο ζεύγος κλειδιού-τιμής (αν υπάρχει το κλειδί, παίρνει τη νέα τιμή):</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="p">[</span><span class="s">&#39;stef&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">67</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="p">[</span><span class="s">&#39;mike&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;oops&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span>
<span class="go">{&#39;nick&#39;: 43, &#39;mike&#39;: &#39;oops&#39;, &#39;stef&#39;: 67}</span>
</pre></div>
</div>
<ul class="simple">
<li>Ελέγξτε αν ένα κλειδί υπάρχει στο λεξικό:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="s">&#39;stef&#39;</span> <span class="ow">in</span> <span class="n">da</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;found&#39;</span>
<span class="gp">...</span>
<span class="go">found</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Η απόπειρα προσπέλασης ενός κλειδιού που δεν υπάρχει, <strong>προκαλεί σφάλμα εκτέλεσης</strong>! Πρέπει πάντα να εκτελείτε τον έλεγχο ύπαρξης του κλειδιού!</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">da</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;mike&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span> <span class="s">&#39;nick&#39;</span><span class="p">:</span> <span class="mi">43</span> <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">da</span><span class="p">[</span><span class="s">&#39;stef&#39;</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n-Identifier">&lt;module&gt;</span>
<span class="nc">KeyError</span>: <span class="n-Identifier">&#39;stef&#39;</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li>Προσπελάστε σε loop ένα-ένα τα ζεύγη κλειδιού-τιμής (η σειρά που επιστρέφονται τα στοιχεία δεν είναι ντετερμινιστική):</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">da</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span>
<span class="gp">...</span>
<span class="go">nick 43</span>
<span class="go">mike oops</span>
<span class="go">stef 67</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Τα λεξικά είναι δομές <strong>ειδικά βελτιστοποιημένες για αναζήτηση</strong> (searching). Εάν θέλουμε να αναζητήσουμε <strong>πολύ γρήγορα</strong> ένα στοιχείο μέσα σε ένα μεγάλο σύνολο, <strong>η χρήση λεξικού είναι MUST!!!</strong></p>
</div>
</div>
<div class="section" id="id4">
<h2>Αρχεία Κειμένου<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Αν ξέρουμε ότι το ένα αρχείο κειμένου δεν είναι μεγάλο, μπορούμε να το διαβάσουμε &#8220;με τη μία&#8221; σε ένα string:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;test.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">text</span>

<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Μπορούμε όμως με μεγαλύτερη ασφάλεια να το διαβάσουμε γραμμή προς γραμμή:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;test.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">line</span>

<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Στη δεύτερη περίπτωση:</p>
<ul class="simple">
<li>Κάθε γραμμή κρατά το τελικό newline χαρακτήρα <tt class="docutils literal"><span class="pre">\n</span></tt></li>
<li>Το αρχείο, ως προς την ανάγνωση, συμπεριφέρεται ως sequence από strings, έτσι μπορούμε να εφαρμόσουμε το επαναληπτικό <tt class="docutils literal"><span class="pre">for</span> <span class="pre">..</span> <span class="pre">in</span> <span class="pre">..</span></tt> που έχουμε ήδη δει.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Duck Typing</strong>: &#8220;Αν περπατά σαν την πάπια και κάνει σαν την πάπια, τότε για μας <strong>είναι</strong> πάπια!&#8221;. Στις γλώσσες με δυναμικό τύπο δεδομένων, δεν είναι δυνατός ο έλεγχος εκ των προτέρων για το αν επιτρέπεται μια συγκεκριμένη λειτουργία σε ένα αντικείμενο. Αντί αυτού, η γλώσσα αρκείται στο ότι το αντικείμενο παρέχει τη συγκεκριμένη λειτουργία κατά τη στιγμή της εκτέλεσης, ανεξάρτητα από τον τύπο του. Αν π.χ. ένα αντικείμενο συμπεριφέρεται σαν λίστα ως προς την προσπέλαση των στοιχείων του, τότε μπορεί να χρησιμοποιηθεί σαν λίστα, ανεξάρτητα από το τι πραγματικά είναι.</p>
</div>
</div>
<div class="section" id="id5">
<h2>Παράδειγμα: Συχνότητα Εμφάνισης Λέξεων<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>Ας εφαρμόσουμε τα προηγούμενα σε ένα συνοπτικό παράδειγμα. Υποθέστε ότι θέλουμε να διαβάσουμε ένα αρχείο κειμένου και να βρούμε τη συχνότητα εμφάνισης κάθε λέξης. Αυτό γίνεται εύκολα με ένα λεξικό:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="c"># -*- coding: UTF-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Sample app to calculate frequencies of words in a file</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c"># dictionary with words as keys</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;test.txt&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
	<span class="n">l</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c"># convert to lowercase</span>
				 <span class="c"># then split on whitespaces</span>
	<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>	<span class="c"># l is a list of words</span>
		<span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>	 <span class="c"># if word already in dict</span>
			<span class="n">d</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>	<span class="c"># incr counter</span>
		<span class="k">else</span><span class="p">:</span>	<span class="c"># word not in dict</span>
			<span class="n">d</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>	<span class="c"># 1st time</span>
	
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c"># print words and counts</span>
<span class="k">for</span> <span class="n">word</span><span class="p">,</span><span class="n">count</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
	<span class="k">print</span> <span class="n">word</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Πιθανές βελτιώσεις</strong>: Θα παρατηρήσατε βέβαια ότι ο προηγούμενος κώδικας δεν είναι ολοκληρωμένος. Π.χ. τα σημεία στίξης θεωρούνται μέρος της λέξης. Όλα αυτά όμως μπορούν να διορθωθούν εύκολα όπως θα δούμε αργότερα!</p>
</div>
</div>
<div class="section" id="urllib">
<h2>Χρησιμοποιώντας βιβλιοθήκες: urllib<a class="headerlink" href="#urllib" title="Permalink to this headline">¶</a></h2>
<p>Μπορούμε να δώσουμε μια &#8216;διαδικτυακή χροιά&#8217; στον προηγούμενο κώδικα. Με τη βιβλιοθήκη <tt class="docutils literal"><span class="pre">urllib</span></tt> μπορούμε να φέρουμε το περιεχόμενο μιας ιστοσελίδας σαν να διαβάζαμε ένα αρχείο! Χρειάζεται να αλλάξουμε <strong>μόνο μία γραμμή</strong> στον προηγούμενο κώδικα:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="c"># -*- coding: UTF-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Sample app to calculate frequencies of words in a web page</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">urllib</span>

<span class="c"># dictionary with words as keys</span>
<span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">fp</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&quot;http://di.ionio.gr/msc/&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
	<span class="n">l</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c"># convert to lowercase</span>
				 <span class="c"># then split on whitespaces</span>
	<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>	<span class="c"># l is a list of words</span>
		<span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>	 <span class="c"># if word already in dict</span>
			<span class="n">d</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>	<span class="c"># incr counter</span>
		<span class="k">else</span><span class="p">:</span>	<span class="c"># word not in dict</span>
			<span class="n">d</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>	<span class="c"># 1st time</span>
	
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c"># print words and counts</span>
<span class="k">for</span> <span class="n">word</span><span class="p">,</span><span class="n">count</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
	<span class="k">print</span> <span class="n">word</span><span class="p">,</span><span class="n">count</span>
</pre></div>
</div>
<p><strong>Για τους γνώστες της C/C++</strong>: θα ήταν λάθος να πιστεύουμε ότι το <tt class="docutils literal"><span class="pre">import</span></tt> είναι το αντίστοιχο του include της C/C++! Στην πραγματικότητα η βιβλιοθήκη που γίνεται imported &#8216;εκτελείται&#8217; εκείνη τη στιγμή, δημιουργώντας τα αντικείμενα και τις συναρτήσεις της βιβλιοθήκης. Τα αντικείμενα αυτά μπορούμε να χρησιμοποιήσουμε στη συνέχεια στο πρόγραμμά μας.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Αφαίρεση tags</strong>: Διαβάζοντας απευθείας από μια ιστοσελίδα έχουμε ένα νέο πρόβλημα: εκτός από τις λέξεις του κειμένου, παίρνουμε επίσης τα tags της HTML. Πώς θα αφαιρεθούν αυτά; (η συνέχεια στο επόμενο..)</p>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../unit2/module1.html" title="Ενότητα 2-1"
             >next</a> |</li>
        <li class="right" >
          <a href="module1.html" title="Ενότητα 1-1"
             >previous</a> |</li>
        <li><a href="../index.html">Internet Programming Lectures v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2011, mistral.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.6.
    </div>
  </body>
</html>